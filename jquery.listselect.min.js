/*!
 * List Select jQuery plugin v0.2
 *
 * Copyright 2011-2010 by Andrew Miller <andrewontour@gmail.com>
 *
 * This program is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
 * more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * this program; if not, write to the Free Software Foundation, Inc., 51
 * Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
 *//* Changelog:
 *
 * 0.1    2011-12-26  Initial release
 * 0.2    2012-03-12  Added ability to set initial row if none already selected
 *                    Fixed incorrect release date for 0.1 release
 */(function(a){a.fn.listSelect=function(b){var c={highlightClass:"selected",initCallback:undefined,losingRowCallback:undefined,gainingRowCallback:undefined,initialRow:undefined};return b&&a.extend(c,b),this.each(function(){var b=a(this),d,e;e=b.find(":checked"),e.length===0&&(c.initialRow?e=b.find("input").eq(c.initialRow):e=b.find("input:first"),a(e).prop("checked",!0)),d=e.closest("li"),typeof c.initCallback=="function"&&c.initCallback.call(d),d.addClass(c.highlightClass),typeof c.gainingRowCallback=="function"&&c.gainingRowCallback.call(d),b.delegate("li","click",function(b){b.stopPropagation();var d=a(b.currentTarget),e=d.closest("ul").find("."+c.highlightClass);d.hasClass(c.highlightClass)||(e.removeClass(c.highlightClass),d.addClass(c.highlightClass).find("input").prop("checked",!0),typeof c.losingRowCallback=="function"&&c.losingRowCallback.call(e),typeof c.gainingRowCallback=="function"&&c.gainingRowCallback.call(d))})}),this}})(jQuery);